(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{591:function(e,t,r){"use strict";r.r(t);var n=r(477),c=r(458),o=r(489),d=r(487),l=r(584),m=r(586),v=r(133),f=r(196),_=r(132),h=r(45),x=r(198),I=r(583),k=r(474),S=r(523),w=r(585),N=r(596),y=r(595),$=r(577),G=r(573),C=r(576),O=r(63),R=r(486),j=r(24),B=(r(89),{data:function(){return{group:null,services:null,dialog:!1,tab:null,editedIndex:-1,editedItem:{},defaultItem:{},items:["Group Services","Bank Account"]}},computed:{formtitle:function(){return-1===this.editedIndex?"Add new service name":"Edit Service Name"}},mounted:function(){this._getgroupById(),this._getGroupServices()},created:function(){this._getgroupById(),this._getGroupServices()},methods:{_getgroupById:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.$post("/group",{groupId:parseInt(e.$route.params.id),msisdn:e.msisdn}).then((function(t){e.group=t})).catch((function(){}));case 2:return t.next=4,t.sent;case 4:case"end":return t.stop()}}),t)})))()},_getGroupServices:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.$post("/group/services",{groupId:parseInt(e.$route.params.id),msisdn:e.msisdn}).then((function(t){e.services=t.services})).catch((function(){}));case 2:return t.next=4,t.sent;case 4:case"end":return t.stop()}}),t)})))()},_editGroupService:function(e){this.editedIndex=this.services.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},discard:function(){this.dialog=!1,this.editedIndex=-1,this.editedItem=this.defaultItem},_addGroupServiceName:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={groupId:parseInt(e.$route.params.id),msisdn:e.msisdn,swServiceName:e.editedItem.swServiceName,enServiceName:e.editedItem.enServiceName},!(e.editedIndex>=0)){t.next=9;break}return r.serviceId=e.editedItem.serviceId,t.next=5,e.$api.$put("/group/service",r).then((function(t){e._getGroupServices(),e.dialog=!1,e.editedIndex=-1,e.editedItem=e.defaultItem})).catch((function(){}));case 5:return t.next=7,t.sent;case 7:t.next=13;break;case 9:return t.next=11,e.$api.$post("/group/service",r).then((function(t){e._getGroupServices(),e.dialog=!1,e.editedIndex=-1,e.editedItem=e.defaultItem})).catch((function(){}));case 11:return t.next=13,t.sent;case 13:case"end":return t.stop()}}),t)})))()}}}),A=r(72),component=Object(A.a)(B,(function(){var e=this,t=e._self._c;return e.group?t(o.a,[t(n.a,{attrs:{color:"primary",dark:"","shrink-on-scroll":"",prominent:"","fade-img-on-scroll":"","scroll-threshold":"500"},scopedSlots:e._u([{key:"extension",fn:function(){return[t(y.a,{attrs:{"align-with-title":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(G.a,{attrs:{color:"yellow"}}),e._v(" "),e._l(e.items,(function(r){return t(w.a,{key:r},[e._v("\n          "+e._s(r)+"\n        ")])}))],2)]},proxy:!0}],null,!1,1798312079)},[t(v.a,{staticClass:"mt-4 ml-5",attrs:{"x-large":""}},[e._v("\n      mdi-account-group\n    ")]),e._v(" "),t(R.a,{staticClass:"text-h4 font-weight-bold"},[e._v("\n      "+e._s(e.group.group.groupName)+"\n    ")]),e._v(" "),t(k.a),e._v(" "),t(m.a,{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[t(c.a,e._g(e._b({staticClass:"mt-4",attrs:{color:"secondary",dark:""}},"v-btn",o,!1),n),[e._v("\n          "+e._s(e.$t("label.button.btnaddservicename"))+"\n        ")])]}}],null,!1,626814459),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),t(o.a,[t(O.a,{attrs:{color:"primary",dark:"",flat:""}},[t(R.a,{staticClass:"text-h4"},[e._v("\n            "+e._s(e.formtitle)+"\n          ")])],1),e._v(" "),t(d.b,{staticClass:"pt-3"},[t(I.a,[t(l.a,{attrs:{cols:"12",sm:"6"}},[t(C.a,{attrs:{label:"English Service Name*",required:""},model:{value:e.editedItem.enServiceName,callback:function(t){e.$set(e.editedItem,"enServiceName",t)},expression:"editedItem.enServiceName"}})],1),e._v(" "),t(l.a,{attrs:{cols:"12",sm:"6"}},[t(C.a,{attrs:{label:"Swahili Service Name*",required:""},model:{value:e.editedItem.swServiceName,callback:function(t){e.$set(e.editedItem,"swServiceName",t)},expression:"editedItem.swServiceName"}})],1)],1)],1),e._v(" "),t(d.a,[t(k.a),e._v(" "),t(c.a,{attrs:{small:"",color:"green darken-1"},on:{click:e.discard}},[e._v("\n            Discard\n          ")]),e._v(" "),t(c.a,{staticClass:"font-weight-bold",attrs:{small:"",color:"secondary darken-1"},on:{click:function(t){return e._addGroupServiceName()}}},[e._v("\n            Save\n          ")])],1)],1)],1),e._v(" "),t(c.a,{attrs:{icon:""}},[t(v.a,[e._v("mdi-dots-vertical")])],1)],1),e._v(" "),t($.a,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(e){return t(N.a,{key:e},[t(o.a,{attrs:{flat:""}},[t(d.b)],1)],1)})),1),e._v(" "),t($.a,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(N.a,[t(f.a,[t(S.a,{staticClass:"text-uppercase"},[e._v("\n          "+e._s(e.$t("label.title.groupservices"))+"\n        ")]),e._v(" "),t(x.a,{attrs:{color:"primary"}},e._l(e.services,(function(r,i){return t(_.a,{key:i,on:{click:function(t){return e._editGroupService(r)}}},[t(h.a,[t(h.c,[e._v(e._s(r.enServiceName))])],1)],1)})),1)],1)],1)],1)],1):t("skeleton-table-loader")}),[],!1,null,null,null);t.default=component.exports}}]);